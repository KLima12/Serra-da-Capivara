{% extends "base.html" %}
{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
	<head>
		{% block css %}
			<link rel="stylesheet" type="text/css" href="{% static 'css/styleGaleria.css' %}">
		{% endblock %}
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Cadastro de Produtos</title>
	</head>
	<body>
		{% block 'dashboard' %}
		<h1 class="cabecalho">Cadastro de Produtos</h1>
		
		<form action="{% url 'cadastro' %}" method="post" enctype="multipart/form-data" style="margin-left: 1rem;">
			{% csrf_token %}
			{{ form.as_p }}
			
			<div class="field-box" id="photo-fields">
				<label for="photos">Fotos:</label>
				<input type="file" name="photos[]" id="photos" accept="image/*" multiple required>
				<button type="button" onclick="addPhotoField()">Adicionar mais fotos</button><br>
			</div>
		
			<div class="field-box">
			</div>
			
			<button type="submit" class="btn btn-edit">Adicionar Produto</button>
		</form>
		
		<script>
			document.addEventListener('DOMContentLoaded', function() {
				const photoFields = document.getElementById('photo-fields');
			
				function addPhotoField() {
					const newInput = document.createElement('input');
					newInput.type = 'file';
					newInput.name = 'photos[]'; 
					newInput.accept = 'image/*';
					photoFields.appendChild(newInput);
				}
			
				window.addPhotoField = addPhotoField;
			});
		</script>
		
		
		
		{% endblock %}
	</body>
</html>
